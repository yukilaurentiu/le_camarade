<nav class="top-navbar navbar-expand-sm d-flex justify-content-between">
  <div>
    <a href="/" class="project-name">
     <%=  image_tag("image.png", alt: "Logo", class: "logo") %>
    </a>
  </div>

  <div class="navbar-item" >
    <%= form_with url: profiles_path, method: :get, class: "d-flex" do %>
      <%= text_field_tag :query,
        params[:query],
        class: "form-control",
        placeholder: "Find a buddy!"
      %>
      <%= submit_tag "Search", class: "btn btn-square" %>
    <% end %>
  </div>
  <div>
    <div class="collapse navbar-collapse" id="navbarNavDarkDropdown">
      <ul class="navbar-nav">
        <% if user_signed_in? %>
          <a class="nav-link navbar-item" href="#" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <% if current_user.avatar.present? %>
              <img src="<%=(url_for(current_user.avatar))%>", class="avatar">
            <% else %>
              <%= image_tag "logo.png", class: "avatar" %>
            <% end %>
          </a>
          <ul class="dropdown-menu dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <%= link_to "Edit user", edit_user_registration_path, class: "dropdown-item", id: "dropdown-item" %>
            <%= link_to "Log out", destroy_user_session_path, data: {turbo_method: :delete}, class: "dropdown-item", id: "dropdown-item" %>
        <% else %>
          <a class="nav-link navbar-item" href="#" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <%= render(partial: "components/avatar") %>
          </a>
          <ul class="dropdown-menu dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          <%= link_to "Log in", new_user_session_path, class: "dropdown-item", id: "dropdown-item" %>
          <%= link_to "Sign in", new_user_registration_path, class: "dropdown-item", id: "dropdown-item" %>
        <% end %>
        </ul>
      </ul>
    </div>
  </div>
</nav>
